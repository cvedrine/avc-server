--
-- PostgreSQL database dump
--

-- Started on 2009-08-24 15:13:34 CET

SET client_encoding = 'UTF8';
SET standard_conforming_strings = off;
SET check_function_bodies = false;
SET client_min_messages = warning;
SET escape_string_warning = off;

SET search_path = public, pg_catalog;

SET default_tablespace = '';

SET default_with_oids = false;

--
-- TOC entry 1202 (class 1259 OID 16560)
-- Dependencies: 5
-- Name: amphi; Type: TABLE; Schema: public; Owner: sqluser; Tablespace: 
--

CREATE TABLE amphi (
    amphiid integer NOT NULL,
    buildingid integer NOT NULL,
    name character varying NOT NULL,
    ipaddress character varying NOT NULL,
    status boolean NOT NULL,
    gmapurl character varying,
    version character varying,
    restrictionuds boolean NOT NULL
);


ALTER TABLE public.amphi OWNER TO sqluser;

--
-- TOC entry 1201 (class 1259 OID 16558)
-- Dependencies: 5 1202
-- Name: amphi_amphiid_seq; Type: SEQUENCE; Schema: public; Owner: sqluser
--

CREATE SEQUENCE amphi_amphiid_seq
    INCREMENT BY 1
    NO MAXVALUE
    NO MINVALUE
    CACHE 1;


ALTER TABLE public.amphi_amphiid_seq OWNER TO sqluser;

--
-- TOC entry 1578 (class 0 OID 0)
-- Dependencies: 1201
-- Name: amphi_amphiid_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: sqluser
--

ALTER SEQUENCE amphi_amphiid_seq OWNED BY amphi.amphiid;


--
-- TOC entry 1204 (class 1259 OID 16568)
-- Dependencies: 5
-- Name: building; Type: TABLE; Schema: public; Owner: sqluser; Tablespace: 
--

CREATE TABLE building (
    buildingid integer NOT NULL,
    name character varying NOT NULL,
    imagefile character varying NOT NULL
);


ALTER TABLE public.building OWNER TO sqluser;

--
-- TOC entry 1203 (class 1259 OID 16566)
-- Dependencies: 5 1204
-- Name: building_buildingid_seq; Type: SEQUENCE; Schema: public; Owner: sqluser
--

CREATE SEQUENCE building_buildingid_seq
    INCREMENT BY 1
    NO MAXVALUE
    NO MINVALUE
    CACHE 1;


ALTER TABLE public.building_buildingid_seq OWNER TO sqluser;

--
-- TOC entry 1581 (class 0 OID 0)
-- Dependencies: 1203
-- Name: building_buildingid_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: sqluser
--

ALTER SEQUENCE building_buildingid_seq OWNED BY building.buildingid;


--
-- TOC entry 1206 (class 1259 OID 16576)
-- Dependencies: 1540 1541 1542 5
-- Name: course; Type: TABLE; Schema: public; Owner: sqluser; Tablespace: 
--

CREATE TABLE course (
    courseid integer NOT NULL,
    date timestamp without time zone NOT NULL,
    type character varying,
    title character varying,
    description character varying,
    formation character varying,
    name character varying,
    firstname character varying,
    ipaddress character varying NOT NULL,
    duration integer NOT NULL,
    genre character varying,
    visible boolean DEFAULT true,
    consultations integer DEFAULT 0,
    timing character varying DEFAULT 'n-1'::character varying,
    mediafolder character varying,
    highquality boolean,
    userid integer,
    adddocname character varying,
    download boolean DEFAULT true NOT NULL,
    restrictionuds boolean NOT NULL
);


ALTER TABLE public.course OWNER TO sqluser;

--
-- TOC entry 1205 (class 1259 OID 16574)
-- Dependencies: 5 1206
-- Name: course_courseid_seq; Type: SEQUENCE; Schema: public; Owner: sqluser
--

CREATE SEQUENCE course_courseid_seq
    INCREMENT BY 1
    NO MAXVALUE
    NO MINVALUE
    CACHE 1;


ALTER TABLE public.course_courseid_seq OWNER TO sqluser;

--
-- TOC entry 1584 (class 0 OID 0)
-- Dependencies: 1205
-- Name: course_courseid_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: sqluser
--

ALTER SEQUENCE course_courseid_seq OWNED BY course.courseid;


--
-- TOC entry 1212 (class 1259 OID 16675)
-- Dependencies: 5
-- Name: selection_selectionid_seq; Type: SEQUENCE; Schema: public; Owner: sqluser
--

CREATE SEQUENCE selection_selectionid_seq
    INCREMENT BY 1
    NO MAXVALUE
    NO MINVALUE
    CACHE 1;


ALTER TABLE public.selection_selectionid_seq OWNER TO sqluser;

--
-- TOC entry 1215 (class 1259 OID 16692)
-- Dependencies: 1546 5
-- Name: selection; Type: TABLE; Schema: public; Owner: sqluser; Tablespace: 
--

CREATE TABLE selection (
    "position" integer DEFAULT nextval('selection_selectionid_seq'::regclass) NOT NULL,
    idcourseselection integer,
    formationcollection character varying
);


ALTER TABLE public.selection OWNER TO sqluser;

--
-- TOC entry 1208 (class 1259 OID 16587)
-- Dependencies: 5
-- Name: slide; Type: TABLE; Schema: public; Owner: sqluser; Tablespace: 
--

CREATE TABLE slide (
    slideid integer NOT NULL,
    courseid integer NOT NULL,
    slidetime integer NOT NULL
);


ALTER TABLE public.slide OWNER TO sqluser;

--
-- TOC entry 1207 (class 1259 OID 16585)
-- Dependencies: 5 1208
-- Name: slide_slideid_seq; Type: SEQUENCE; Schema: public; Owner: sqluser
--

CREATE SEQUENCE slide_slideid_seq
    INCREMENT BY 1
    NO MAXVALUE
    NO MINVALUE
    CACHE 1;


ALTER TABLE public.slide_slideid_seq OWNER TO sqluser;

--
-- TOC entry 1589 (class 0 OID 0)
-- Dependencies: 1207
-- Name: slide_slideid_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: sqluser
--

ALTER SEQUENCE slide_slideid_seq OWNED BY slide.slideid;


--
-- TOC entry 1214 (class 1259 OID 16679)
-- Dependencies: 5
-- Name: tag; Type: TABLE; Schema: public; Owner: sqluser; Tablespace: 
--

CREATE TABLE tag (
    tagid integer NOT NULL,
    tag text,
    courseid integer
);


ALTER TABLE public.tag OWNER TO sqluser;

--
-- TOC entry 1213 (class 1259 OID 16677)
-- Dependencies: 5 1214
-- Name: tag_tagid_seq1; Type: SEQUENCE; Schema: public; Owner: sqluser
--

CREATE SEQUENCE tag_tagid_seq1
    INCREMENT BY 1
    NO MAXVALUE
    NO MINVALUE
    CACHE 1;


ALTER TABLE public.tag_tagid_seq1 OWNER TO sqluser;

--
-- TOC entry 1592 (class 0 OID 0)
-- Dependencies: 1213
-- Name: tag_tagid_seq1; Type: SEQUENCE OWNED BY; Schema: public; Owner: sqluser
--

ALTER SEQUENCE tag_tagid_seq1 OWNED BY tag.tagid;


--
-- TOC entry 1209 (class 1259 OID 16590)
-- Dependencies: 5
-- Name: univr; Type: TABLE; Schema: public; Owner: sqluser; Tablespace: 
--

CREATE TABLE univr (
    courseid integer NOT NULL,
    uid integer NOT NULL,
    groupcode integer NOT NULL,
    establishment text
);


ALTER TABLE public.univr OWNER TO sqluser;

--
-- TOC entry 1211 (class 1259 OID 16656)
-- Dependencies: 5
-- Name: user; Type: TABLE; Schema: public; Owner: sqluser; Tablespace: 
--

CREATE TABLE "user" (
    userid integer NOT NULL,
    login character varying NOT NULL,
    email character varying
);


ALTER TABLE public."user" OWNER TO sqluser;

--
-- TOC entry 1210 (class 1259 OID 16654)
-- Dependencies: 5 1211
-- Name: user_userid_seq; Type: SEQUENCE; Schema: public; Owner: sqluser
--

CREATE SEQUENCE user_userid_seq
    INCREMENT BY 1
    NO MAXVALUE
    NO MINVALUE
    CACHE 1;


ALTER TABLE public.user_userid_seq OWNER TO sqluser;

--
-- TOC entry 1595 (class 0 OID 0)
-- Dependencies: 1210
-- Name: user_userid_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: sqluser
--

ALTER SEQUENCE user_userid_seq OWNED BY "user".userid;


--
-- TOC entry 1537 (class 2604 OID 16562)
-- Dependencies: 1202 1201 1202
-- Name: amphiid; Type: DEFAULT; Schema: public; Owner: sqluser
--

ALTER TABLE amphi ALTER COLUMN amphiid SET DEFAULT nextval('amphi_amphiid_seq'::regclass);


--
-- TOC entry 1538 (class 2604 OID 16570)
-- Dependencies: 1204 1203 1204
-- Name: buildingid; Type: DEFAULT; Schema: public; Owner: sqluser
--

ALTER TABLE building ALTER COLUMN buildingid SET DEFAULT nextval('building_buildingid_seq'::regclass);


--
-- TOC entry 1539 (class 2604 OID 16578)
-- Dependencies: 1206 1205 1206
-- Name: courseid; Type: DEFAULT; Schema: public; Owner: sqluser
--

ALTER TABLE course ALTER COLUMN courseid SET DEFAULT nextval('course_courseid_seq'::regclass);


--
-- TOC entry 1543 (class 2604 OID 16589)
-- Dependencies: 1208 1207 1208
-- Name: slideid; Type: DEFAULT; Schema: public; Owner: sqluser
--

ALTER TABLE slide ALTER COLUMN slideid SET DEFAULT nextval('slide_slideid_seq'::regclass);


--
-- TOC entry 1545 (class 2604 OID 16681)
-- Dependencies: 1214 1213 1214
-- Name: tagid; Type: DEFAULT; Schema: public; Owner: sqluser
--

ALTER TABLE tag ALTER COLUMN tagid SET DEFAULT nextval('tag_tagid_seq1'::regclass);


--
-- TOC entry 1544 (class 2604 OID 16658)
-- Dependencies: 1211 1210 1211
-- Name: userid; Type: DEFAULT; Schema: public; Owner: sqluser
--

ALTER TABLE "user" ALTER COLUMN userid SET DEFAULT nextval('user_userid_seq'::regclass);


--
-- TOC entry 1548 (class 2606 OID 16672)
-- Dependencies: 1202 1202
-- Name: amphi_ipaddress_key; Type: CONSTRAINT; Schema: public; Owner: sqluser; Tablespace: 
--

ALTER TABLE ONLY amphi
    ADD CONSTRAINT amphi_ipaddress_key UNIQUE (ipaddress);


--
-- TOC entry 1550 (class 2606 OID 16593)
-- Dependencies: 1202 1202
-- Name: amphi_pkey; Type: CONSTRAINT; Schema: public; Owner: sqluser; Tablespace: 
--

ALTER TABLE ONLY amphi
    ADD CONSTRAINT amphi_pkey PRIMARY KEY (amphiid);


--
-- TOC entry 1552 (class 2606 OID 16595)
-- Dependencies: 1204 1204
-- Name: building_pkey; Type: CONSTRAINT; Schema: public; Owner: sqluser; Tablespace: 
--

ALTER TABLE ONLY building
    ADD CONSTRAINT building_pkey PRIMARY KEY (buildingid);


--
-- TOC entry 1554 (class 2606 OID 16597)
-- Dependencies: 1206 1206
-- Name: course_pkey; Type: CONSTRAINT; Schema: public; Owner: sqluser; Tablespace: 
--

ALTER TABLE ONLY course
    ADD CONSTRAINT course_pkey PRIMARY KEY (courseid);


--
-- TOC entry 1566 (class 2606 OID 16699)
-- Dependencies: 1215 1215
-- Name: selection_pkey; Type: CONSTRAINT; Schema: public; Owner: sqluser; Tablespace: 
--

ALTER TABLE ONLY selection
    ADD CONSTRAINT selection_pkey PRIMARY KEY ("position");


--
-- TOC entry 1556 (class 2606 OID 16599)
-- Dependencies: 1208 1208
-- Name: slide_pkey; Type: CONSTRAINT; Schema: public; Owner: sqluser; Tablespace: 
--

ALTER TABLE ONLY slide
    ADD CONSTRAINT slide_pkey PRIMARY KEY (slideid);


--
-- TOC entry 1564 (class 2606 OID 16686)
-- Dependencies: 1214 1214
-- Name: tag_pkey; Type: CONSTRAINT; Schema: public; Owner: sqluser; Tablespace: 
--

ALTER TABLE ONLY tag
    ADD CONSTRAINT tag_pkey PRIMARY KEY (tagid);


--
-- TOC entry 1558 (class 2606 OID 16601)
-- Dependencies: 1209 1209
-- Name: univr_pkey; Type: CONSTRAINT; Schema: public; Owner: sqluser; Tablespace: 
--

ALTER TABLE ONLY univr
    ADD CONSTRAINT univr_pkey PRIMARY KEY (courseid);


--
-- TOC entry 1560 (class 2606 OID 16665)
-- Dependencies: 1211 1211
-- Name: user_login_key; Type: CONSTRAINT; Schema: public; Owner: sqluser; Tablespace: 
--

ALTER TABLE ONLY "user"
    ADD CONSTRAINT user_login_key UNIQUE (login);


--
-- TOC entry 1562 (class 2606 OID 16663)
-- Dependencies: 1211 1211
-- Name: user_pkey; Type: CONSTRAINT; Schema: public; Owner: sqluser; Tablespace: 
--

ALTER TABLE ONLY "user"
    ADD CONSTRAINT user_pkey PRIMARY KEY (userid);


--
-- TOC entry 1567 (class 2606 OID 16641)
-- Dependencies: 1202 1204 1551
-- Name: amphi_buildingid_fkey; Type: FK CONSTRAINT; Schema: public; Owner: sqluser
--

ALTER TABLE ONLY amphi
    ADD CONSTRAINT amphi_buildingid_fkey FOREIGN KEY (buildingid) REFERENCES building(buildingid) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 1568 (class 2606 OID 16666)
-- Dependencies: 1206 1211 1561
-- Name: course_userid_fkey; Type: FK CONSTRAINT; Schema: public; Owner: sqluser
--

ALTER TABLE ONLY course
    ADD CONSTRAINT course_userid_fkey FOREIGN KEY (userid) REFERENCES "user"(userid);


--
-- TOC entry 1569 (class 2606 OID 16607)
-- Dependencies: 1208 1206 1553
-- Name: slide_courseid_fkey; Type: FK CONSTRAINT; Schema: public; Owner: sqluser
--

ALTER TABLE ONLY slide
    ADD CONSTRAINT slide_courseid_fkey FOREIGN KEY (courseid) REFERENCES course(courseid) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 1571 (class 2606 OID 16687)
-- Dependencies: 1214 1206 1553
-- Name: tag_courseid_fkey; Type: FK CONSTRAINT; Schema: public; Owner: sqluser
--

ALTER TABLE ONLY tag
    ADD CONSTRAINT tag_courseid_fkey FOREIGN KEY (courseid) REFERENCES course(courseid);


--
-- TOC entry 1570 (class 2606 OID 16646)
-- Dependencies: 1209 1206 1553
-- Name: univr_courseid_fkey; Type: FK CONSTRAINT; Schema: public; Owner: sqluser
--

ALTER TABLE ONLY univr
    ADD CONSTRAINT univr_courseid_fkey FOREIGN KEY (courseid) REFERENCES course(courseid) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 1576 (class 0 OID 0)
-- Dependencies: 5
-- Name: public; Type: ACL; Schema: -; Owner: postgres
--

REVOKE ALL ON SCHEMA public FROM PUBLIC;
REVOKE ALL ON SCHEMA public FROM postgres;
GRANT ALL ON SCHEMA public TO postgres;
GRANT ALL ON SCHEMA public TO PUBLIC;


--
-- TOC entry 1577 (class 0 OID 0)
-- Dependencies: 1202
-- Name: amphi; Type: ACL; Schema: public; Owner: sqluser
--

REVOKE ALL ON TABLE amphi FROM PUBLIC;
REVOKE ALL ON TABLE amphi FROM sqluser;
GRANT ALL ON TABLE amphi TO sqluser;
GRANT ALL ON TABLE amphi TO postgres;
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE amphi TO PUBLIC;


--
-- TOC entry 1579 (class 0 OID 0)
-- Dependencies: 1201
-- Name: amphi_amphiid_seq; Type: ACL; Schema: public; Owner: sqluser
--

REVOKE ALL ON SEQUENCE amphi_amphiid_seq FROM PUBLIC;
REVOKE ALL ON SEQUENCE amphi_amphiid_seq FROM sqluser;
GRANT SELECT,UPDATE ON SEQUENCE amphi_amphiid_seq TO sqluser;
GRANT SELECT,UPDATE ON SEQUENCE amphi_amphiid_seq TO postgres;
GRANT SELECT,UPDATE ON SEQUENCE amphi_amphiid_seq TO PUBLIC;


--
-- TOC entry 1580 (class 0 OID 0)
-- Dependencies: 1204
-- Name: building; Type: ACL; Schema: public; Owner: sqluser
--

REVOKE ALL ON TABLE building FROM PUBLIC;
REVOKE ALL ON TABLE building FROM sqluser;
GRANT ALL ON TABLE building TO sqluser;
GRANT ALL ON TABLE building TO postgres;
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE building TO PUBLIC;


--
-- TOC entry 1582 (class 0 OID 0)
-- Dependencies: 1203
-- Name: building_buildingid_seq; Type: ACL; Schema: public; Owner: sqluser
--

REVOKE ALL ON SEQUENCE building_buildingid_seq FROM PUBLIC;
REVOKE ALL ON SEQUENCE building_buildingid_seq FROM sqluser;
GRANT SELECT,UPDATE ON SEQUENCE building_buildingid_seq TO sqluser;
GRANT SELECT,UPDATE ON SEQUENCE building_buildingid_seq TO postgres;
GRANT SELECT,UPDATE ON SEQUENCE building_buildingid_seq TO PUBLIC;


--
-- TOC entry 1583 (class 0 OID 0)
-- Dependencies: 1206
-- Name: course; Type: ACL; Schema: public; Owner: sqluser
--

REVOKE ALL ON TABLE course FROM PUBLIC;
REVOKE ALL ON TABLE course FROM sqluser;
GRANT ALL ON TABLE course TO sqluser;
GRANT ALL ON TABLE course TO postgres;
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE course TO PUBLIC;


--
-- TOC entry 1585 (class 0 OID 0)
-- Dependencies: 1205
-- Name: course_courseid_seq; Type: ACL; Schema: public; Owner: sqluser
--

REVOKE ALL ON SEQUENCE course_courseid_seq FROM PUBLIC;
REVOKE ALL ON SEQUENCE course_courseid_seq FROM sqluser;
GRANT SELECT,UPDATE ON SEQUENCE course_courseid_seq TO sqluser;
GRANT SELECT,UPDATE ON SEQUENCE course_courseid_seq TO postgres;
GRANT SELECT,UPDATE ON SEQUENCE course_courseid_seq TO PUBLIC;


--
-- TOC entry 1586 (class 0 OID 0)
-- Dependencies: 1212
-- Name: selection_selectionid_seq; Type: ACL; Schema: public; Owner: sqluser
--

REVOKE ALL ON SEQUENCE selection_selectionid_seq FROM PUBLIC;
REVOKE ALL ON SEQUENCE selection_selectionid_seq FROM sqluser;
GRANT SELECT,UPDATE ON SEQUENCE selection_selectionid_seq TO sqluser;
GRANT SELECT,UPDATE ON SEQUENCE selection_selectionid_seq TO postgres;
GRANT SELECT,UPDATE ON SEQUENCE selection_selectionid_seq TO PUBLIC;


--
-- TOC entry 1587 (class 0 OID 0)
-- Dependencies: 1215
-- Name: selection; Type: ACL; Schema: public; Owner: sqluser
--

REVOKE ALL ON TABLE selection FROM PUBLIC;
REVOKE ALL ON TABLE selection FROM sqluser;
GRANT ALL ON TABLE selection TO sqluser;
GRANT ALL ON TABLE selection TO postgres;
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE selection TO PUBLIC;


--
-- TOC entry 1588 (class 0 OID 0)
-- Dependencies: 1208
-- Name: slide; Type: ACL; Schema: public; Owner: sqluser
--

REVOKE ALL ON TABLE slide FROM PUBLIC;
REVOKE ALL ON TABLE slide FROM sqluser;
GRANT ALL ON TABLE slide TO sqluser;
GRANT ALL ON TABLE slide TO postgres;
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE slide TO PUBLIC;


--
-- TOC entry 1590 (class 0 OID 0)
-- Dependencies: 1207
-- Name: slide_slideid_seq; Type: ACL; Schema: public; Owner: sqluser
--

REVOKE ALL ON SEQUENCE slide_slideid_seq FROM PUBLIC;
REVOKE ALL ON SEQUENCE slide_slideid_seq FROM sqluser;
GRANT SELECT,UPDATE ON SEQUENCE slide_slideid_seq TO sqluser;
GRANT SELECT,UPDATE ON SEQUENCE slide_slideid_seq TO postgres;
GRANT SELECT,UPDATE ON SEQUENCE slide_slideid_seq TO PUBLIC;


--
-- TOC entry 1591 (class 0 OID 0)
-- Dependencies: 1214
-- Name: tag; Type: ACL; Schema: public; Owner: sqluser
--

REVOKE ALL ON TABLE tag FROM PUBLIC;
REVOKE ALL ON TABLE tag FROM sqluser;
GRANT ALL ON TABLE tag TO sqluser;
GRANT ALL ON TABLE tag TO postgres;
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE tag TO PUBLIC;


--
-- TOC entry 1593 (class 0 OID 0)
-- Dependencies: 1209
-- Name: univr; Type: ACL; Schema: public; Owner: sqluser
--

REVOKE ALL ON TABLE univr FROM PUBLIC;
REVOKE ALL ON TABLE univr FROM sqluser;
GRANT ALL ON TABLE univr TO sqluser;
GRANT ALL ON TABLE univr TO postgres;
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE univr TO PUBLIC;


--
-- TOC entry 1594 (class 0 OID 0)
-- Dependencies: 1211
-- Name: user; Type: ACL; Schema: public; Owner: sqluser
--

REVOKE ALL ON TABLE "user" FROM PUBLIC;
REVOKE ALL ON TABLE "user" FROM sqluser;
GRANT ALL ON TABLE "user" TO sqluser;
GRANT ALL ON TABLE "user" TO postgres;
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE "user" TO PUBLIC;


-- Completed on 2009-03-09 17:45:59 CET

--
-- PostgreSQL database dump complete
--

